## 三、关键接口设计
| 接口类型 | 路径                          | 说明              |
|------|-----------------------------|-----------------|
| POST | /api/notes/extract          | 上传图片，返回处理结果     |
| POST | /api/notes/mindmap          | 上传图片，返回思维导图所需要的格式 |
| POST | /api/notes/keywords         | 上传摘要内容（文字），返回关键词 |
| POST | /api/notes/record           | 上传笔记内容，返回存储结果   |
| POST | /api/notes/explanation      | 上传笔记内容，返回讲解     |

### 前端请求接口

### 后端响应接口
interface BaseResponse<T> {
  code: number;      // 状态码 (200=成功)
  message: string;   // 提示信息 ("success" 或错误描述)
  data: T;           // 业务数据
  timestamp: number; // 服务器时间戳
}
- /api/notes/extract 返回摘要结果
前端请求：
```typescript
interface ExtractImageParams {
  image: File;
  enhanceMode?: 'text' | 'table';
}
```
后端响应
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "extract_id": "ex_001",
    "text_content": "",
    "expend": ""  
  },
  "timestamp": 1719900000
}

```
- /api/notes/mindmap 思维导图
前端请求
```typescript
interface MindmapParams {
  image: File;
  style?: 'radial' | 'tree';
}
```
后端响应
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "mindmap_id": "mm_2023",
    "layout_type": "radial",
    "root_node": {
      "id": "n0",
      "label": "机器学习",
      "children": [
        {
          "id": "n1",
          "label": "监督学习",
          "color": "#FF6B6B",
          "children": [
            {"id": "n1-1", "label": "分类", "link": "/notes/123"}
          ]
        }
      ]
    },
    "svg_url": ""
  },
  "timestamp": 1719900000
}

```
-  /api/notes/keywords 提取关键词
前端请求
```typescript
interface KeywordsParams {
  text: string;
  maxKeywords?: number;
  algorithm?: 'tfidf' | 'textrank';
}
```
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "keywords": [
      {
        "term": "梯度下降",
        "tfidf_score": 0.92,
        "related_notes": ["note_001", "note_005"]
      },
      {
        "term": "过拟合",
        "tfidf_score": 0.85,
        "related_questions": ["q_2023"]
      }
    ]
  },
  "timestamp": 1719900000
}

```
- /api/notes/record 保存笔记，返回保存结果
前端请求
```typescript
interface RecordNoteParams {
    title: string;
    content: string;
    tags?: string[];
    mindmapId?: string;
}
```
后端响应
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "note_id": "note_20230801",
    "content": "success | fail"
  },
  "timestamp": 1719900000
}

```
- /api/notes/explanation 生成讲解，返回MarkDown格式
前端请求
```typescript
interface ExplanationParams {
  content: string;
  difficulty?: 'beginner' | 'intermediate' | 'advanced';
}
```
后端响应
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "explanation_id": "exp_789",
    "content_md": "## 什么是梯度下降?\n\n就像下山时寻找最快路径..."
  },
  "timestamp": 1719900000
}

```